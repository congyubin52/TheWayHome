<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.btc.thewayhome.user.board.free.IFreeBoardUserDaoMapper">

    <insert id="insertFreeBoardContent"
            parameterType="com.btc.thewayhome.user.board.free.FreeBoardUserDto">

        INSERT INTO
            tbl_free_board(u_m_id, fb_category, fb_title, fb_content, fb_image, fb_region, fb_kind, fb_color, fb_age, fb_weight, fb_gender, fb_neuter, fb_reg_date, fb_mod_date)
        VALUES
            (#{u_m_id}, #{fb_category}, #{fb_title}, #{fb_content}, #{fb_image}, #{fb_region}, #{fb_kind}, #{fb_color}, #{fb_age}, #{fb_weight}, #{fb_gender}, #{fb_neuter}, NOW(),NOW())
    </insert>

    <select id="selectAllFreeBoard" resultType="hashmap">
        SELECT
            *
        FROM
            tbl_free_board
        WHERE
            use_yn = 'Y'
    </select>

    <update id="updateHits" parameterType="Integer">

        UPDATE
            tbl_free_board
        SET
            fb_hits = fb_hits + 1
        WHERE
            fb_no = #{fb_no}
        AND
            use_yn = 'Y'

    </update>

    <select id="selectContent"
            parameterType="com.btc.thewayhome.user.board.free.FreeBoardUserDto"
            resultType="com.btc.thewayhome.user.board.free.FreeBoardUserDto">
        SELECT
            *
        FROM
            tbl_free_board
        WHERE
            fb_no = #{fb_no}
        AND
            use_yn = 'Y'


    </select>

    <update id="deleteFreeBoard" parameterType="Integer" >

        UPDATE
            tbl_free_board
        SET
            use_yn = 'N'
        WHERE
            fb_no = #{fb_no}

    </update>


</mapper>